<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:if="${keyword == null}">
        <title>Satellite | All Blogs</title>
    </th:block>
    <th:block th:if="${keyword != null}">
        <title>Search result for [(${keyword})]</title>
    </th:block>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description"
          content="Blog cá nhân, chia sẻ các kiến thức về lập trình, thuật toán và mẹo hay trong công việc cũng như cuộc sống">
    <meta name="keywords" content="HTML,CSS,XML,JavaScript">
    <meta name="author" content="Đoàn Đức Tín">
    <meta property="og:image"
          content="https://png.pngtree.com/thumb_back/fh260/background/20191009/pngtree-geometric-abstract-background-with-blogs-image_318758.jpg"/>
    <th:block th:insert="Common/_css :: content"/>

    <!-- Custom -->
    <link rel="stylesheet" th:href="@{/Resource/blogsite/style.css}">
    <style>
        .single-blog-post:hover{
            box-shadow: 0 1px 5px rgba(0, 0, 0, .6);
        }
        .ftco-navbar-light{
            position: absolute;
            background-color: transparent !important;
        }
        .fa-angle-left{
            margin-left: 12px;
            padding: 0;
            text-align: left;
        }
        .fa-angle-right{
            margin-left: 12px;
            padding: 0;
            text-align: left;
        }
        .fa-angle-up{
            padding: 0;
            margin: 0;
        }
    </style>
</head>
<body>

<th:block th:insert="Common/header :: content"/>
<th:block th:insert="Common/topcontent_blog :: content"/>

<div class="main-content-wrapper section-padding-100">
    <div class="container-fluid">
        <div class="row justify-content-center">

            <!--LEFT-->
            <div id="new-section" class="col-12 col-lg-8">

                <!--LEFT -> SEARCH BLOG-->
                <th:block th:if="${keyword == null}">
                    <div class="title">
                        <h5 style="font-weight: 700;font-family: Dosis, serif">Kết quả tìm kiếm của bạn sẽ hiển thị ở đây</h5>
                    </div>
                    <hr>
                    <div class="single-blog-post post-style-4 d-flex align-items-center wow fadeInUpBig"
                             data-wow-delay="0s">
                        <div class="post-content" style="width: 100%">
                             <p>Bạn chưa tìm kiếm từ khóa nào, bạn có thể tìm kiếm theo tiêu đề, tác giả, ngày đăng, từ khóa, tóm tắt tại thanh tìm kiếm...</p>
                        </div>
                    </div>
                </th:block>
                <th:block th:if="${keyword != null}">
                    <div class="title">
                        <h5 style="font-weight: 700;font-family: Dosis, serif">Kết quả tìm kiếm cho: [(${keyword})]</h5>
                    </div>
                    <hr>
                    <th:block th:each="i:${SearchBlogList}">
                        <div th:onclick="goto('/blog/[(${i.name})]')" class="single-blog-post post-style-4 d-flex align-items-center wow fadeInUpBig"
                             data-wow-delay="0s">

                            <div class="post-thumbnail">
                                <img th:src="${i.image}" alt="" style="height: 100%;width: 100%">
                            </div>

                            <div class="post-content">
                                <a href="#" class="headline">
                                    <h5 style="font-family:'Work Sans','sans-serif'">[(${i.title})]</h5>
                                </a>
                                <p class="description-overflow">[(${i.description})]</p>
                                <button class="btn btn-success" style="float: right;">Xem tiếp</button>
                                <br><br>

                                <div class="post-meta" style="bottom: 0">
                                    <hr>
                                    <p><a th:href="'/profile/'+${i.userByUser.uName}" class="post-author">[(${i.userByUser.uName})]</a> on
                                        <a th:href="'/blog/'+${i.name}" class="post-date">[(${i.datepublic})]</a></p>
                                </div>
                            </div>

                        </div>
                    </th:block>
                    <th:block th:if="${SearchBlogList.isEmpty()}">
                        <div class="single-blog-post post-style-4 d-flex align-items-center wow fadeInUpBig"
                             data-wow-delay="0s">
                            <div class="post-content" style="width: 100%">
                                <p>Không có kết quả nào, bạn hãy thử một từ khóa đơn giản hơn nhé</p>
                            </div>
                        </div>
                    </th:block>
                </th:block>

                <br><br><br>

                <!--LEFT -> NEW BLOG-->
                <div class="title">
                    <h5 style="font-weight: 700;font-family: Dosis, serif">Bài viết mới đăng</h5>
                </div>
                <hr>
                <th:block th:each="i:${BlogList.subList(0,10)}">
                    <div th:onclick="goto('/blog/[(${i.name})]')" class="single-blog-post post-style-4 d-flex align-items-center wow fadeInUpBig"
                         data-wow-delay="0s">

                        <div class="post-thumbnail">
                            <img th:src="${i.image}" alt="" style="height: 100%;width: 100%">
                        </div>

                        <div class="post-content">
                            <a href="#" class="headline">
                                <h5 style="font-family:'Work Sans','sans-serif'">[(${i.title})]</h5>
                            </a>
                            <p class="description-overflow">[(${i.description})]</p>
                            <button class="btn btn-success" style="float: right;">Xem tiếp</button>
                            <br><br>

                            <div class="post-meta" style="bottom: 0">
                                <hr>
                                <p><a th:href="'/profile/'+${i.userByUser.uName}" class="post-author">[(${i.userByUser.uName})]</a> on
                                    <a th:href="'/blog/'+${i.name}" class="post-date">[(${i.datepublic})]</a></p>
                            </div>
                        </div>

                    </div>
                </th:block>

            </div>

            <!--ASIDE-->
            <div class="col-12 col-md-8 col-lg-4">
                <div class="post-sidebar-area wow fadeInUpBig" data-wow-delay="0s">

                    <!--SEARCH BAR-->
                    <div class="sidebar-widget-area">
                        <h5 class="title">Tìm kiếm bài viết</h5>
                        <div class="widget-content">
                            <div style="display: inline-flex;width: 100%;margin-bottom: 8px">
                                <input id="input-search-blog" class="search-expanded" placeholder="Nhập bất kỳ thứ gì" type="text" style="width: 85%;padding: 10px;">
                                <button onclick="searchBlog()" class="btn-outline-primary" style="width: 15%;padding: 10px 5px 10px 5px">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"></path>
                                        <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"></path>
                                    </svg>&nbsp;
                                </button>
                            </div>
                            <p style="font-size: 10px;color:dimgrey;margin: 0">&nbsp;&nbsp;Ví dụ như...</p>
                            <button class="btn btn-outline-secondary" onclick="document.getElementById('input-search-blog').value=this.innerText" style="font-size: 12px;font-weight: 700;margin-bottom: 3px">Java</button>
                            <button class="btn btn-outline-secondary" onclick="document.getElementById('input-search-blog').value=this.innerText" style="font-size: 12px;font-weight: 700;margin-bottom: 3px">Lập trình</button>
                            <button class="btn btn-outline-secondary" onclick="document.getElementById('input-search-blog').value=this.innerText" style="font-size: 12px;font-weight: 700;margin-bottom: 3px">Hack</button>
                            <button class="btn btn-outline-secondary" onclick="document.getElementById('input-search-blog').value=this.innerText" style="font-size: 12px;font-weight: 700;margin-bottom: 3px">Game</button>
                            <button class="btn btn-outline-secondary" onclick="document.getElementById('input-search-blog').value=this.innerText" style="font-size: 12px;font-weight: 700;margin-bottom: 3px">FPT</button>
                            <button class="btn btn-outline-secondary" onclick="document.getElementById('input-search-blog').value=this.innerText" style="font-size: 12px;font-weight: 700;margin-bottom: 3px">Block</button>
                            <p style="font-size: 10px;color:dimgrey">&nbsp;&nbsp;...và còn nhiều mục khác</p>
                        </div>
                    </div>

                    <!--FUNCTION-->
                    <div class="sidebar-widget-area">
                        <h5 class="title">Thao tác</h5>
                        <div class="widget-content" style="width: 100%">
                            <a href="#new-section"><button class="btn btn-outline-warning" style="font-size: 12px;font-weight: 700;margin-bottom: 3px"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"></path>
                            </svg>&nbsp;Xem mới nhất</button></a>
                            <a href="/blog"><button class="btn btn-success" style="border:0;background: linear-gradient(to right, #009fff, #ec2f4b);font-size: 12px;font-weight: 700;margin-bottom: 3px">TRENDING BLOGS</button></a>
                            <hr>
                            <a href="/blog/new"><button class="btn btn-outline-primary" style="font-size: 12px;font-weight: 700;margin-bottom: 3px">Viết bài (*)</button></a>

                            <!--BUTTON MANAGER BLOGS-->
                            <th:block th:if="${session.user != null}">
                                <th:block th:if="${session.user.id != 4}">
                                    <a th:href="'/blog/manager/'+${session.user.uName}" ><button class="btn btn-outline-primary" style="font-size: 12px;font-weight: 700;margin-bottom: 3px">Quản lý bài</button></a>
                                </th:block>
                                <th:block th:if="${session.user.id == 4}">
                                    <a><button class="btn btn-secondary disabled" style="font-size: 12px;font-weight: 700;margin-bottom: 3px">Quản lý bài</button></a>
                                </th:block>
                            </th:block>
                            <th:block th:if="${session.user == null}">
                                <a><button class="btn btn-secondary disabled" style="font-size: 12px;font-weight: 700;margin-bottom: 3px">Quản lý bài</button></a>
                            </th:block>

                        </div>
                    </div>

                    <!--ABOUT-->
                    <div class="sidebar-widget-area">
                        <h5 class="title">Về Blog</h5>
                        <div class="widget-content">
                            <p>Đây là nơi chia sẻ nhưng bài viết hay về công nghệ, đời sống xã hội, thủ thuật,... và nhiều thứ khác.
                             Chủ đề chính của blog liên quan tới những bài hướng dẫn về lập trình, mỗi blogger đăng bài được duyệt sẽ nhận được những phần quà tương ứng với chất lượng bài viết đó.</p>
                        </div>
                    </div>

                    <!--TOP BLOG-->
                    <div class="sidebar-widget-area">
                        <h5 class="title">Blog nhiều lượt xem nhất</h5>
                        <div class="widget-content">

                            <th:block th:each="i:${TopViewBlogList}">
                                <div th:onclick="goto('/blog/[(${i.name})]')" class="single-blog-post post-style-2 d-flex align-items-center widget-post" style="height: 80px">

                                    <div class="post-thumbnail">
                                        <img th:src="${i.image}" alt="" style="max-height: 80px;">
                                    </div>

                                    <div class="post-content">
                                        <a href="#" class="headline">
                                            <h5 class="mb-0" style="font-family:'Work Sans','sans-serif'">[(${i.title})]</h5>
                                        </a>
                                    </div>
                                </div>
                            </th:block>

                        </div>
                    </div>

                    <!--EXTERNAL LINK-->
                    <div class="sidebar-widget-area">
                        <h5 class="title">Liên hệ với người duyệt bài</h5>
                        <div class="widget-content" style="width: 80%">
                            <div class="social-area d-flex justify-content-between">
                                <a target="_blank" href="https://www.facebook.com/FStatic-Community-101530871837182"><i class="fa fa-facebook"></i>FSTATIC</a>
                                <a target="_blank" href="https://www.facebook.com/Anhtpde140084"><i class="fa fa-facebook"></i>MOD_TPA</a>
                                <a target="_blank" href="https://www.facebook.com/satfomacej"><i class="fa fa-facebook"></i>ADMIN</a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
</div>

<th:block th:insert="Common/_js :: content"/>
<th:block th:insert="Common/footer :: content"/>

<!-- Custom -->
<script th:src="@{/Resource/blogsite/js/jquery/jquery-2.2.4.min.js}"></script>
<script th:src="@{/Resource/blogsite/js/popper.min.js}"></script>
<script th:src="@{/Resource/blogsite/js/bootstrap.min.js}"></script>
<script th:src="@{/Resource/blogsite/js/plugins.js}"></script>
<script th:src="@{/Resource/blogsite/js/active.js}"></script>
<script th:src="@{/Resource/friendlydate/moment.js}"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-23581568-13');
    document.getElementById('drop-fpt-all').addEventListener('click',()=>{
        x=document.getElementById('header-dropdown-menu');
        y=document.getElementById('header-dropdown-content');
        if (x.classList.contains('show')){
            x.classList.remove('show');
            y.classList.remove('show');
        }else{
            x.classList.add('show');
            y.classList.add('show');
        }
    })
    x=document.getElementById('drop-btn-login');
    if (x!==null) x.addEventListener('click',()=>{
        if (document.getElementById('drop-menu-login').classList.contains('show')){
            document.getElementById('drop-menu-login').classList.remove('show');
        }else{
            document.getElementById('drop-menu-login').classList.add('show');
        }
    })
    document.querySelector('.owl-stage-outer').style.height='260px';
    document.querySelectorAll('.post-date').forEach((el)=>{
        el.innerText=moment(el.innerText,"YYYY-MM-DD hh:mm:ss").fromNow()
    });
    document.getElementById('scrollUp').style.left='30px';
</script>

<!-- Function -->
<script>
    function searchBlog(){
        window.location="/blog/all?keyword="+document.getElementById('input-search-blog').value;
    }
    function goto(x){
        window.location=x;
    }
</script>

</body>
</html>