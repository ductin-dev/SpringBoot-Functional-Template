<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>[(${QASelected.title})]</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="title" th:content="${QASelected.title}">
    <meta name="description" th:content="${QASelected.content}">
    <meta name="keywords" content="HTML,CSS,XML,JavaScript">
    <meta name="author" content="Đoàn Đức Tín">
    <meta property="og:image" th:content="${QASelected.image}" />
    <th:block th:insert="Common/_css :: content"/>

    <!--Custom-->
    <style>
        .search {
            border: 2px solid darkorange;
            overflow: auto;
            border-radius: 5px;
            -moz-border-radius: 5px;
            -webkit-border-radius: 5px;
        }

        .search input[type="text"] {
            border: 0px;
            width: 67%;
            padding: 10px 10px;
        }

        .search input[type="text"]:focus {
            outline: 0;
        }

        .search input[type="submit"] {
            border: 0px;
            background: none;
            background-color: darkorange;
            color: #fff;
            float: right;
            padding: 10px;
            border-radius-top-right: 5px;
            -moz-border-radius-top-right: 5px;
            -webkit-border-radius-top-right: 5px;
            border-radius-bottom-right: 5px;
            -moz-border-radius-bottom-right: 5px;
            -webkit-border-radius-bottom-right: 5px;
            cursor: pointer;
        }

        @media only screen and (min-width: 150px) and (max-width: 780px) { {
        }
            .search {
                width: 95%;
                margin: 0 auto;
            }

        }

        .no-box-shadow {
            box-shadow: none
        }

        .no-box-shadow:focus {
            box-shadow: none
        }

        .day {
            font-size: 15px
        }

        .heart {
            border-radius: 22px
        }

        .heart-icon {
            color: orange;
        }

        .comment-text {
            font-size: 18px
        }

        .delete {
            font-size: 13px;
            cursor: pointer
        }

        .ck-editor {
            width: 100% !important;
        }
        .tags {
            margin: 1rem 0 2rem;
            padding: .5rem 0 1rem;
            line-height: 2;
            margin-bottom: 0;
        }

        .tags a {
            font-style: normal;
            font-weight: 700;
            font-size: .5rem;
            color: #232323;
            text-transform: uppercase;
            font-size: .66rem;
            border: 3px solid #000000;
            border-radius: 2rem;
            padding: .2rem .85rem .25rem;
            position: relative;
        }

        .tags a:hover {
            font-weight: 700;
            background: linear-gradient(90deg, #ff8a00,#e52e71);
            text-shadow: none;
            -webkit-text-fill-color: transparent;
            -webkit-background-clip: text;
            -webkit-box-decoration-break: clone;
            border-color: #ff5900;
        }
    </style>
    <script src="https://cdn.tiny.cloud/1/90qladyecfroqnj6mllsoy294bi49oudx9kgkzjyviz3a090/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
</head>
<body>

<th:block th:insert="Common/header :: content"/>
<th:block th:insert="Common/topcontent :: content"/>

<div style="background-size: cover;background-blend-mode: darken">
    <div class="container-fluid">

        <!--COMMENT-->
        <div id="cmtsection" class="container mt-5 mb-5">
            <div class="d-flex justify-content-center row">
                <div class="col-md-12">

                    <!--Preview selected question-->
                    <div id="qa_list_div">

                        <div class="p-3 bg-white mt-2 rounded">
                            <div class="d-flex justify-content-between">
                                <div class="d-flex flex-row user"><img class="rounded-circle img-fluid img-responsive"
                                                                       style="max-width: 50px;max-height: 50px"
                                                                       th:src="${QASelected.userByUser.uAvatar}" alt="none">
                                    <div class="d-flex flex-column ml-2">
                                        <a style="color:black;" th:href="'/profile/'+${QASelected.userByUser.uName}">

                                            <th:block th:if="${QASelected.userByUser.uRole == 0}">
                                                <span style="color: orangered;font-weight: 700">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-checklist" viewBox="0 0 16 16">
                                                  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                                                  <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>
                                                </svg>&nbsp;ADMIN
                                                </span>
                                            </th:block>
                                            <th:block th:if="${QASelected.userByUser.uRole == 1}">
                                                <span style="color: darkorange;font-weight: 700">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-heading" viewBox="0 0 16 16">
                                                  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                                                  <path d="M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z"/>
                                                </svg>&nbsp;MOD
                                                </span>
                                            </th:block>
                                            <th:block th:if="${QASelected.userByUser.uRole == 2}">
                                                <span style="color: cadetblue;font-weight: 700">
                                                &nbsp;USER
                                                </span>
                                            </th:block>
                                            <th:block th:if="${QASelected.userByUser.uRole == 3}">
                                                <span style="color: gray;font-weight: 700">
                                                &nbsp;GUEST
                                                </span>
                                            </th:block>

                                            <span onmouseleave="this.style.color='black'"
                                                  onmouseover="this.style.color='blue'"
                                                  class="font-weight-bold" th:text="${QASelected.getUserByUser().getuName()}">
                                                <span style="color: green;font-weight: 700">
                                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check2-circle"
                                                     fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                  <path fill-rule="evenodd"
                                                        d="M15.354 2.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L8 9.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path>
                                                  <path fill-rule="evenodd"
                                                        d="M8 2.5A5.5 5.5 0 1 0 13.5 8a.5.5 0 0 1 1 0 6.5 6.5 0 1 1-3.25-5.63.5.5 0 1 1-.5.865A5.472 5.472 0 0 0 8 2.5z"></path>
                                                </svg>&nbsp;Đã duyệt
                                                </span>
                                            </span>
                                        </a>
                                        <span class="day">[(${QASelected.datecreated})]
                                            <div class="tags" style="display:inline-block;margin: 0;padding: 0">
                                            <a style="color:blue;padding:0 8px 0 8px;margin: 0;display: inline-block" onclick="showScanQrBox()">SCAN QR</a>
                                            <a style="padding:0 8px 0 8px;margin: 0;display: inline-block" th:onclick="showQADetailBox([[${QASelected.id}]],[[${QASelected.title}]],[[${QASelected.image}]],[[${QASelected.content}]],[[${QASelected.answered}]]">POP UP</a>
                                            <a style="color:darkorange;padding:0 8px 0 8px;margin: 0;display: inline-block" href="qaFPT">XEM CÂU HỎI KHÁC</a>
                                            </div>
                                        </span></div>
                                </div>
                                <div class="d-flex align-items-center px-3 heart border" style="height: 100%">
                                    <span class="ml-2"
                                          style="font-weight: 600;color:green;font-size: 18px">[(${QASelected.answered})] phản hồi</span>
                                </div>
                            </div>
                            <div class="comment-text text-justify mt-2">
                                <h5><b style="font-family: Dosis,sans-serif;font-weight: 600">[(${QASelected.title})]</b>
                                </h5>
                                <p style="font-family: Dosis,sans-serif">[(${QASelected.content})]</p>
                            </div>
                        </div>

                    </div>

                    <!--Area for input comment-->
                    <div id="cmt-section" class="d-flex flex-row align-items-center add-comment p-2 bg-white rounded"
                         style="padding: 10px">
                        <th:block th:if="${session.user == null}">
                            <img class="rounded-circle" src="https://freesvg.org/img/1538346433.png" width="40" alt="">
                        </th:block>
                        <th:block th:if="${session.user != null}">
                            <img class="rounded-circle" th:src="${session.user.uAvatar}" width="40" alt="">
                        </th:block>
                        <form id="comment-form" style="width: 100%">
                            <input type="hidden" name="qa" th:value="${QASelected.getId()}">
                            <input style="display: none" required type="text" name="comment" id="comment-editor">
                            <textarea required placeholder="Bình luận, suy nghĩ và câu trả lời của bạn cho câu hỏi bên trên"></textarea>
                        </form>
                    </div>

                    <!--Submit comment-->
                    <th:block th:if="${session.user == null}">
                        <div class="p-3 bg-white mt-2 rounded text-center" style="font-weight: 700">
                            <h5 style="font-weight: 700">Bình luận sẽ có tương tác thấp hơn nếu bạn chưa đăng nhập</h5>
                            <button id="add_cmt_button_1" onclick="addCmtAPI(this)"
                                    class="btn btn-success btn-sm px-3"
                                    style="border:0;font-weight: 600;background-color: orange;color:white;padding: 8px 20px 6px 20px">Đăng Bình Luận</button>
                            <a href="/login">
                                <button class="btn btn-success btn-sm px-3"
                                        style="border:0;font-weight: 600;background-color: grey;color:white;padding: 8px 20px 6px 20px">
                                    Đăng Nhập
                                </button>
                            </a>
                        </div>
                    </th:block>
                    <th:block th:if="${session.user != null}">
                        <th:block th:if="${session.user.uRole == 3}">
                            <div class="p-3 bg-white mt-2 rounded text-center">
                                <h5 style="font-weight: 600">Bình luận ẩn danh</h5>
                                <button id="add_cmt_button_2" onclick="addCmtAPI(this)"
                                        class="btn btn-success btn-sm px-3"
                                        style="border:0;font-weight: 600;background-color: orange;color:white;padding: 8px 20px 6px 20px">Đăng Bình Luận</button>
                                <a href="/user_logout">
                                    <button class="btn btn-success btn-sm px-3"
                                            style="border:0;background-color: grey;color:white;padding: 8px 20px 6px 20px ;font-weight: 600">
                                        Đăng Xuất
                                    </button>
                                </a>
                            </div>
                        </th:block>
                        <th:block th:if="${session.user.uRole != 3}">
                            <div class="p-3 bg-white mt-2 rounded text-center">
                                <h5 style="font-weight: 600">Bình luận với tên <span
                                        style="color:orange">[(${session.user.uDigitalName})]</span></h5>
                                <button id="add_cmt_button_3" onclick="addCmtAPI(this)"
                                        class="btn btn-success btn-sm px-3"
                                        style="border:0;font-weight: 600;background-color: orange;color:white;padding: 8px 20px 6px 20px">Đăng Bình Luận</button>
                            </div>
                        </th:block>
                    </th:block>

                    <!-- All Comment List -->
                    <div id="cmt_fpt_list_all">

                        <th:block th:if="${CmtList.isEmpty()}">
                            <hr>
                            <p style="text-align:center;font-family: Arial,sans-serif;font-size: 14px;font-weight: 700;color: grey">
                                <i>Chưa có câu trả lời nào</i></p>
                        </th:block>
                        <th:block th:if="${!CmtList.isEmpty()}">
                            <hr>
                            <p style="text-align:center;font-family: Arial,sans-serif;font-size: 14px;font-weight: 700;color: orange">
                                <i>Bình luận có nhiều like hơn sẽ được ưu tiên hiển thị</i></p>
                        </th:block>

                        <div id="cmt_fpt_list_new">
                            <th:block th:each="i:${CmtList}">
                                <div class="p-3 bg-white rounded" style="border: 1px solid grey;">
                                    <div class="d-flex justify-content-between">
                                        <div class="d-flex flex-row user"><img width="50" height="50" class="rounded-circle img-fluid img-responsive"
                                                                               style="max-width: 50px;max-height: 50px"
                                                                               th:src="${i.userByUser.uAvatar}" alt="none"/>
                                            <div class="d-flex flex-column ml-2">

                                                <a style="color:black" th:href="'/profile/'+${i.userByUser.uName}">
                                                    <th:block th:if="${i.userByUser.uRole == 0}">
                                                        <span style="color: orangered;font-weight: 700">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-checklist" viewBox="0 0 16 16">
                                                          <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                                                          <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>
                                                        </svg>&nbsp;ADMIN
                                                        </span>
                                                    </th:block>
                                                    <th:block th:if="${i.userByUser.uRole == 1}">
                                                        <span style="color: darkorange;font-weight: 700">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-heading" viewBox="0 0 16 16">
                                                          <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                                                          <path d="M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z"/>
                                                        </svg>&nbsp;MOD
                                                        </span>
                                                    </th:block>
                                                    <th:block th:if="${i.userByUser.uRole == 2}">
                                                        <span style="color: cadetblue;font-weight: 700">
                                                        &nbsp;USER
                                                        </span>
                                                    </th:block>
                                                    <th:block th:if="${i.userByUser.uRole == 3}">
                                                        <span style="color: gray;font-weight: 700">
                                                        &nbsp;GUEST
                                                        </span>
                                                    </th:block>
                                                    <th:block th:if="${CmtList.indexOf(i)==0}">
                                                        <span onmouseleave="this.style.color='black'" onmouseover="this.style.color='blue'" class="font-weight-bold hover">[(${i.userByUser.uName})]&nbsp;&nbsp;&nbsp;
                                                            <span style="color: orange;font-weight: 700">
                                                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                                            </svg>&nbsp;Tin cậy
                                                            </span>
                                                        </span>
                                                    </th:block>
                                                    <th:block th:if="${CmtList.indexOf(i)!=0}">
                                                        <span onmouseleave="this.style.color='black'" onmouseover="this.style.color='blue'" class="font-weight-bold hover">[(${i.userByUser.uName})]&nbsp;&nbsp;&nbsp;
                                                        </span>
                                                    </th:block>
                                                </a>

                                                <span class="day">[(${i.datecreated})]</span>
                                            </div>
                                        </div>
                                        <th:block th:if="${session.get('cmt_liked_of_'+i.id)!=null}">
                                            <div th:onclick="likeAPI([[${i.id}]])" class="d-flex align-items-center px-3 heart border">
                                                <i th:id="'icon-like-of-'+${i.id}" class="fa fa-heart heart-icon"></i>
                                                <span th:id="'cmt-like-of-'+${i.id}" style="font-weight: 600;color:orange">[(${i.validate})]</span>
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                                <span class="ml-2" style="font-weight: 600;color:green"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trophy-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5c0 .538-.012 1.05-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33.076 33.076 0 0 1 2.5.5zm.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935zm10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935z"></path>
                                    </svg>&nbsp;[(${i.getUserByUser().uStrengthCreation})]</span>
                                            </div>
                                        </th:block>
                                        <th:block th:if="${session.get('cmt_liked_of_'+i.id)==null}">
                                            <div  th:onclick="likeAPI([[${i.id}]])" class="d-flex align-items-center px-3 heart border">
                                                <i th:id="'icon-like-of-'+${i.id}" class="fa fa-heart heart-icon" style="color: gray"></i>
                                                <span th:id="'cmt-like-of-'+${i.id}" style="font-weight: 600;color:orange">[(${i.validate})]</span>
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                                <span class="ml-2" style="font-weight: 600;color:green"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trophy-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5c0 .538-.012 1.05-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33.076 33.076 0 0 1 2.5.5zm.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935zm10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935z"></path>
                                    </svg>&nbsp;[(${i.getUserByUser().uStrengthCreation})]</span>
                                            </div>
                                        </th:block>
                                    </div>
                                    <div class="comment-text text-justify mt-2">
                                        <div style="font-family: Dosis,sans-serif">[(${i.comment})]</div>
                                    </div>
                                </div>
                            </th:block>
                        </div>

                    </div>

                </div>
            </div>
        </div>

    </div>
</div>

<th:block th:insert="Common/_js :: content"/>
<th:block th:insert="Common/footer :: content"/>

<!--Custom-->
<script th:src="@{/Resource/friendlydate/moment.js}"></script>

<!--POPUP-->
<script>
    document.querySelectorAll('.day').forEach((el)=>{
        el.innerText=moment(el.innerText,"YYYY-MM-DD hh:mm:ss").fromNow()
    });
    function showQADetailBox(id, title, image, content, answered){
        Swal.fire({
            title: title,
            text: content,
            imageUrl: image,
            imageWidth: "100%",
            imageHeight: "100%",
            imageAlt: 'Custom image',
        })
    }
    function showScanQrBox(){
        Swal.fire({
            title: 'Scan',
            text: 'Share this question to your friends !',
            imageUrl: 'https://api.qrserver.com/v1/create-qr-code/?size=350x350&data=https://satellite-fpt.azurewebsites.net/viewQAFPT?id=${QASelected.id}',
            imageWidth: "100%",
            imageHeight: "100%",
            imageAlt: 'Custom image',
        })
    }
</script>

<!--API-->
<script>
    function likeAPI(id) {
        data = id;
        $.ajax({
            type: 'POST',
            url: '/qaFPT/like/cmt',
            //contentType: 'application/json',
            data: {data},
        }).done(function (result) {
            if (result.toString().substring(0, 7) === "//ERROR") {
                Swal.fire({
                    position: 'top-end',
                    icon: 'error',
                    title: result.toString().substring(7),
                    showConfirmButton: false,
                    timer: 2000
                })
            } else {
                tmp=result.toString().split('|');
                document.getElementById('icon-like-of-'+id).style.color=tmp[1]==="LIKED"?"":"gray";
                document.getElementById('cmt-like-of-'+id).innerText=tmp[2];
            }
        });
    }

    function addCmtAPI(a) {
        if (a.innerHTML !== 'Đăng Bình Luận') return;
        a.innerHTML = '<i class="fa fa-circle-o-notch fa-spin" style="padding: 0;margin: 0"></i>\n';
        document.getElementById('comment-editor').value=tinyMCE.activeEditor.getContent();
        var formData = new FormData(document.getElementById("comment-form"));
        $.ajax({
            type: 'POST',
            url: '/qaFPT/add/cmt',
            contentType: false,
            processData: false,
            //contentType: 'application/json',
            data: formData,
        }).done(function (result) {
            if (result.toString().substring(0, 7) === "//ERROR") {
                Swal.fire({
                    position: 'top-end',
                    icon: 'error',
                    title: result.toString().substring(7),
                    showConfirmButton: false,
                    timer: 2000
                })
            } else {
                Swal.fire({
                    position: 'top-end',
                    icon: 'success',
                    title: "Bình luận của bạn đã được thêm vào cuối danh sách",
                    showConfirmButton: false,
                    timer: 2000
                })
                document.getElementById("cmt_fpt_list_all").innerHTML = result;
            }
            x = document.getElementById("add_cmt_button_1");
            if (x !== null) {
                x.innerHTML = "Đăng Bình Luận";
            } else {
                x = document.getElementById("add_cmt_button_2");
                if (x !== null) {
                    x.innerHTML = "Đăng Bình Luận";
                } else {
                    x = document.getElementById("add_cmt_button_3");
                    x.innerHTML = "Đăng Bình Luận";
                }
            }
        });
    }
</script>

<!--Editor-->
<script>
    tinymce.init({
        selector: 'textarea',
        plugins: 'advlist autolink lists link image charmap print preview hr anchor pagebreak',
        toolbar_mode: 'floating'
    });
</script>

</body>
</html>
